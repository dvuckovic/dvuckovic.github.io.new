<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Building and installing Metview in openSUSE | Dusanâ€™s Space</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;family=Merriweather+Sans:ital,wght@0,600;1,600&amp;family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;display=swap">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-SJD4XMS3R4"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-SJD4XMS3R4');</script>
    <link rel="alternate" type="application/rss+xml" href="https://dvuckovic.com/rss.xml" title="Dusanâ€™s Space RSS Feed">
    <meta name="description" content="A full build guide, incl. library dependencies">
    <meta property="article:published_time" content="2013-03-09T00:00:00.000Z">
    <meta property="article:modified_time" content="2021-06-20T12:02:17.000Z">
    <meta property="og:site_name" content="Dusanâ€™s Space">
    <meta property="og:title" content="Building and installing Metview in openSUSE">
    <meta property="og:description" content="A full build guide, incl. library dependencies">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/2013/03/09/building-and-installing-metview-opensuse/">
    <meta property="og:image" content="https://cdn.dvuckovic.com/posts/metview_header.jpg">
    <meta name="twitter:title" content="Building and installing Metview in openSUSE">
    <meta name="twitter:description" content="A full build guide, incl. library dependencies">
    <meta name="twitter:url" content="/2013/03/09/building-and-installing-metview-opensuse/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://cdn.dvuckovic.com/posts/metview_header.jpg">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="post, linux, meteorology, shell">
    <meta property="article:tag" content="post">
    <meta name="theme-color" content="#ff7700">
    <link rel="preload" href="/assets/css/0.styles.e0e4cea7.css" as="style"><link rel="preload" href="/assets/js/app.7a75f1fe.js" as="script"><link rel="preload" href="/assets/js/19.1346b3bf.js" as="script"><link rel="preload" href="/assets/js/12.e1236284.js" as="script"><link rel="preload" href="/assets/js/37.514cbc8e.js" as="script"><link rel="prefetch" href="/assets/js/1.47b44be3.js"><link rel="prefetch" href="/assets/js/10.9100961c.js"><link rel="prefetch" href="/assets/js/100.75b666b5.js"><link rel="prefetch" href="/assets/js/101.b3bbfd39.js"><link rel="prefetch" href="/assets/js/102.cbe66969.js"><link rel="prefetch" href="/assets/js/103.b08a0869.js"><link rel="prefetch" href="/assets/js/104.b4824db2.js"><link rel="prefetch" href="/assets/js/105.e8e6da25.js"><link rel="prefetch" href="/assets/js/106.df067897.js"><link rel="prefetch" href="/assets/js/107.4f834df4.js"><link rel="prefetch" href="/assets/js/108.b9fa77db.js"><link rel="prefetch" href="/assets/js/109.39b66c07.js"><link rel="prefetch" href="/assets/js/11.2d771e9d.js"><link rel="prefetch" href="/assets/js/110.a72e9012.js"><link rel="prefetch" href="/assets/js/111.8f8d0d52.js"><link rel="prefetch" href="/assets/js/112.483c0499.js"><link rel="prefetch" href="/assets/js/113.53a1b0ec.js"><link rel="prefetch" href="/assets/js/114.994e6fc6.js"><link rel="prefetch" href="/assets/js/115.d019b3b3.js"><link rel="prefetch" href="/assets/js/116.7da14914.js"><link rel="prefetch" href="/assets/js/117.354f5fc2.js"><link rel="prefetch" href="/assets/js/118.4bd88bb2.js"><link rel="prefetch" href="/assets/js/119.5bae7b8d.js"><link rel="prefetch" href="/assets/js/120.e909e859.js"><link rel="prefetch" href="/assets/js/121.cc4c1bb4.js"><link rel="prefetch" href="/assets/js/122.e935a102.js"><link rel="prefetch" href="/assets/js/123.bd515f08.js"><link rel="prefetch" href="/assets/js/124.f307495d.js"><link rel="prefetch" href="/assets/js/125.494e6420.js"><link rel="prefetch" href="/assets/js/126.cf0aa04c.js"><link rel="prefetch" href="/assets/js/127.127e1e9d.js"><link rel="prefetch" href="/assets/js/128.a13966fc.js"><link rel="prefetch" href="/assets/js/129.fb9a5055.js"><link rel="prefetch" href="/assets/js/13.4a201018.js"><link rel="prefetch" href="/assets/js/130.0bab81cb.js"><link rel="prefetch" href="/assets/js/131.8d311242.js"><link rel="prefetch" href="/assets/js/132.f67d9af5.js"><link rel="prefetch" href="/assets/js/133.0901673e.js"><link rel="prefetch" href="/assets/js/134.4fd746f6.js"><link rel="prefetch" href="/assets/js/135.48d3c5be.js"><link rel="prefetch" href="/assets/js/136.87d5eb67.js"><link rel="prefetch" href="/assets/js/137.6552c782.js"><link rel="prefetch" href="/assets/js/138.eb4cae8e.js"><link rel="prefetch" href="/assets/js/139.f7100a2e.js"><link rel="prefetch" href="/assets/js/14.1e9f23d3.js"><link rel="prefetch" href="/assets/js/140.e742b946.js"><link rel="prefetch" href="/assets/js/141.9fec0628.js"><link rel="prefetch" href="/assets/js/142.0c3c7ddb.js"><link rel="prefetch" href="/assets/js/143.04245474.js"><link rel="prefetch" href="/assets/js/144.3abcb36c.js"><link rel="prefetch" href="/assets/js/15.ff2cd584.js"><link rel="prefetch" href="/assets/js/16.f4971c4d.js"><link rel="prefetch" href="/assets/js/17.075cedfd.js"><link rel="prefetch" href="/assets/js/18.d792f2ec.js"><link rel="prefetch" href="/assets/js/2.c692d64a.js"><link rel="prefetch" href="/assets/js/20.15be60dc.js"><link rel="prefetch" href="/assets/js/21.c1a7bfa3.js"><link rel="prefetch" href="/assets/js/22.943f67ea.js"><link rel="prefetch" href="/assets/js/23.f431f4d6.js"><link rel="prefetch" href="/assets/js/24.339c4804.js"><link rel="prefetch" href="/assets/js/25.c67844dd.js"><link rel="prefetch" href="/assets/js/26.a52a97e9.js"><link rel="prefetch" href="/assets/js/27.dfbd74dc.js"><link rel="prefetch" href="/assets/js/28.de140592.js"><link rel="prefetch" href="/assets/js/29.de0191f6.js"><link rel="prefetch" href="/assets/js/3.22cfc250.js"><link rel="prefetch" href="/assets/js/30.5ec4efe2.js"><link rel="prefetch" href="/assets/js/31.3b982379.js"><link rel="prefetch" href="/assets/js/32.c6814f82.js"><link rel="prefetch" href="/assets/js/33.e7bb6f69.js"><link rel="prefetch" href="/assets/js/34.9dc51e9f.js"><link rel="prefetch" href="/assets/js/35.113cecc0.js"><link rel="prefetch" href="/assets/js/36.3b4c1524.js"><link rel="prefetch" href="/assets/js/38.6c805e13.js"><link rel="prefetch" href="/assets/js/39.6a747384.js"><link rel="prefetch" href="/assets/js/40.0c1f511e.js"><link rel="prefetch" href="/assets/js/41.8232996f.js"><link rel="prefetch" href="/assets/js/42.9cc151a3.js"><link rel="prefetch" href="/assets/js/43.ac76176b.js"><link rel="prefetch" href="/assets/js/44.5c73c2ae.js"><link rel="prefetch" href="/assets/js/45.8aa2357a.js"><link rel="prefetch" href="/assets/js/46.d2a10c93.js"><link rel="prefetch" href="/assets/js/47.92d84b19.js"><link rel="prefetch" href="/assets/js/48.5fd68038.js"><link rel="prefetch" href="/assets/js/49.975e7623.js"><link rel="prefetch" href="/assets/js/50.2a526f11.js"><link rel="prefetch" href="/assets/js/51.0b39be9e.js"><link rel="prefetch" href="/assets/js/52.1569c0e2.js"><link rel="prefetch" href="/assets/js/53.357bb5b0.js"><link rel="prefetch" href="/assets/js/54.d2f0ee28.js"><link rel="prefetch" href="/assets/js/55.5a6dce91.js"><link rel="prefetch" href="/assets/js/56.443679dc.js"><link rel="prefetch" href="/assets/js/57.591116bf.js"><link rel="prefetch" href="/assets/js/58.6079e6ab.js"><link rel="prefetch" href="/assets/js/59.10b56410.js"><link rel="prefetch" href="/assets/js/60.2042eab2.js"><link rel="prefetch" href="/assets/js/61.f3d5a99f.js"><link rel="prefetch" href="/assets/js/62.ca93a9e8.js"><link rel="prefetch" href="/assets/js/63.5f72d7fe.js"><link rel="prefetch" href="/assets/js/64.02655094.js"><link rel="prefetch" href="/assets/js/65.ed2d18c4.js"><link rel="prefetch" href="/assets/js/66.04ff7e44.js"><link rel="prefetch" href="/assets/js/67.95f7e57e.js"><link rel="prefetch" href="/assets/js/68.92b2a93f.js"><link rel="prefetch" href="/assets/js/69.7be4992d.js"><link rel="prefetch" href="/assets/js/70.3f9ad26a.js"><link rel="prefetch" href="/assets/js/71.d981d4cf.js"><link rel="prefetch" href="/assets/js/72.6468e54e.js"><link rel="prefetch" href="/assets/js/73.511ae092.js"><link rel="prefetch" href="/assets/js/74.228329eb.js"><link rel="prefetch" href="/assets/js/75.0d8b8262.js"><link rel="prefetch" href="/assets/js/76.e871abb9.js"><link rel="prefetch" href="/assets/js/77.1c43e23d.js"><link rel="prefetch" href="/assets/js/78.a97e55eb.js"><link rel="prefetch" href="/assets/js/79.d3714341.js"><link rel="prefetch" href="/assets/js/80.f5e67788.js"><link rel="prefetch" href="/assets/js/81.424fac9a.js"><link rel="prefetch" href="/assets/js/82.896a47aa.js"><link rel="prefetch" href="/assets/js/83.b23ff087.js"><link rel="prefetch" href="/assets/js/84.8cd76b1e.js"><link rel="prefetch" href="/assets/js/85.74ffdeee.js"><link rel="prefetch" href="/assets/js/86.4e98c5e0.js"><link rel="prefetch" href="/assets/js/87.5842ad2a.js"><link rel="prefetch" href="/assets/js/88.ea409a24.js"><link rel="prefetch" href="/assets/js/89.8e3cfb1e.js"><link rel="prefetch" href="/assets/js/9.73534068.js"><link rel="prefetch" href="/assets/js/90.544ae8d5.js"><link rel="prefetch" href="/assets/js/91.b2bf80c8.js"><link rel="prefetch" href="/assets/js/92.9e37cf18.js"><link rel="prefetch" href="/assets/js/93.d2624e22.js"><link rel="prefetch" href="/assets/js/94.70594964.js"><link rel="prefetch" href="/assets/js/95.fdc05f59.js"><link rel="prefetch" href="/assets/js/96.5a1bf07d.js"><link rel="prefetch" href="/assets/js/97.fcf77cd3.js"><link rel="prefetch" href="/assets/js/98.53ab7c12.js"><link rel="prefetch" href="/assets/js/99.d488142a.js"><link rel="prefetch" href="/assets/js/getag-map.64e16d15.js"><link rel="prefetch" href="/assets/js/vendors~bootstrap.6d48da59.js"><link rel="prefetch" href="/assets/js/vendors~masonry-layout.135896b3.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.9a9ceefc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e0e4cea7.css"><style data-vue-ssr-id="data-v-3ea4e60c_0">.bi{fill:currentColor;width:1em;height:1em;font-size:1em;margin-bottom:.125em;vertical-align:middle}.bi--variant-success{color:var(--bs-success)}.bi--variant-warning{color:var(--bs-warning)}.bi--variant-danger{color:var(--bs-danger)}.bi--variant-info{color:var(--bs-info)}.bi--variant-primary{color:var(--bs-primary)}.bi--variant-secondary{color:var(--bs-secondary)}.bi--variant-dark{color:var(--bs-dark)}.bi--variant-light{color:var(--bs-light)}.bi--size-sm{font-size:.75em}.bi--size-md{font-size:1.25rem}.bi--size-lg{font-size:1.33333333rem}.bi--size-2x{font-size:2rem}.bi--size-3x{font-size:3rem}.bi--size-4x{font-size:4rem}.bi--size-5x{font-size:5rem}.bi--animation-cylon{animation:bi-animation-cylon .75s ease-in-out infinite alternate}.bi--animation-cylon-vertical{animation:bi-animation-cylon-vertical .75s ease-in-out infinite alternate}.bi--animation-fade{animation:bi-animation-fade .75s ease-in-out infinite alternate}.bi--animation-spin{animation:bi-animation-spin 2s linear infinite normal}.bi--animation-spin-reverse{animation:bi-animation-spin 2s linear infinite reverse}.bi--animation-spin-pulse{animation:bi-animation-spin 1s steps(8) infinite normal}.bi--animation-spin-reverse-pulse{animation:bi-animation-spin 1s steps(8) infinite reverse}.bi--animation-throb{animation:bi-animation-throb .75s ease-in-out infinite alternate}@keyframes bi-animation-cylon{0%{transform:translateX(-25%)}100%{transform:translateX(25%)}}@keyframes bi-animation-cylon-vertical{0%{transform:translateY(25%)}100%{transform:translateY(-25%)}}@keyframes bi-animation-fade{0%{opacity:.1}100%{opacity:1}}@keyframes bi-animation-spin{0%{transform:rotate(0)}100%{transform:rotate(359deg)}}@keyframes bi-animation-throb{0%{opacity:.5;transform:scale(.5)}100%{opacity:1;transform:scale(1)}}
</style>
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="d-flex flex-column min-vh-100"><header class="container-fluid position-relative Header"><nav class="navbar navbar-expand-sm navbar-dark"><div class="container-lg"><a href="/" class="NavLink navbar-brand"><img src="https://cdn.dvuckovic.com/images/avatar.png" alt="Dusanâ€™s Space" title="Dusanâ€™s Space" height="32" class="d-block position-relative"></a> <button type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"><svg class="bi bi--size-lg"><g transform="" transform-origin="center"><use xlink:href="/assets/img/bootstrap-icons.982100e4.svg#list"></use></g></svg></button> <div id="navbar" class="collapse navbar-collapse"><ul role="menu" class="navbar-nav align-items-end me-auto text-uppercase"><li role="menuitem" class="position-relative nav-item"><a href="/tag/post/" class="NavLink nav-link">
                            Posts
                        </a></li><li role="menuitem" class="position-relative nav-item"><a href="/tag/project/" class="NavLink nav-link">
                            Projects
                        </a></li><li role="menuitem" class="position-relative nav-item"><a href="/tag/photo/" class="NavLink nav-link">
                            Photos
                        </a></li><li role="menuitem" class="position-relative nav-item"><a href="/tag/panorama/" class="NavLink nav-link">
                            Panoramas
                        </a></li></ul> <ul class="navbar-nav justify-content-end align-items-end Header__Nav__Right"><li class="nav-item"><div class="search-box pe-4"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></li> <li class="nav-item"><a href="/rss.xml" title="Feed" class="Feed pe-4"><svg class="bi bi--size-md"><g transform="" transform-origin="center"><use xlink:href="/assets/img/bootstrap-icons.982100e4.svg#rss-fill"></use></g></svg></a></li> <li class="nav-item"><a href="https://instagram.com/dvuckovic82" target="_blank" rel="noopener noreferrer" title="Instagram" class="NavLink NavLink--External position-relative d-block pe-4"><svg class="bi bi--size-md"><g transform="" transform-origin="center"><use xlink:href="/assets/img/bootstrap-icons.982100e4.svg#instagram"></use></g></svg></a></li><li class="nav-item"><a href="https://github.com/dvuckovic" target="_blank" rel="noopener noreferrer" title="GitHub" class="NavLink NavLink--External position-relative d-block"><svg class="bi bi--size-md"><g transform="" transform-origin="center"><use xlink:href="/assets/img/bootstrap-icons.982100e4.svg#github"></use></g></svg></a></li></ul></div></div></nav> <!----></header> <article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="container-lg px-3 Post GlobalLayout"><div class="row justify-content-center"><header id="header" class="col-md-9 Post__Header"><ul itemprop="keywords" class="d-flex flex-row mb-2 list-unstyled Post__Meta Post__Meta--Tags"><li class="text-uppercase PostTag"><a href="/tag/post" class="me-3"><span>
            post
        </span></a></li><li class="text-uppercase PostTag"><a href="/tag/linux" class="me-3"><span>
            linux
        </span></a></li><li class="text-uppercase PostTag"><a href="/tag/meteorology" class="me-3"><span>
            meteorology
        </span></a></li><li class="text-uppercase PostTag"><a href="/tag/shell" class="me-3"><span>
            shell
        </span></a></li></ul> <h1 itemprop="name headline" class="Post__Title">
                Building and installing Metview in openSUSE
            </h1> <p itemprop="description" class="mt-4 mb-4 Post__Summary">
                A full build guide, incl. library dependencies
            </p> <footer><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="d-none"><span itemprop="name">
                        Dusan Vuckovic
                    </span></div> <div class="text-uppercase Post__Meta Post__Meta--Date"><time itemprop="datePublished" datetime="2013-03-09T00:00:00.000Z">
                        2013-03-09
                    </time> <span class="mx-2">
                            â€¢
                        </span>
                        25 minutes
                    </div></footer></header></div> <div class="row"><figure class="col Post__FullImage"><img src="https://cdn.dvuckovic.com/posts/metview_header.jpg" alt="Building and installing Metview in openSUSE" sizes="(max-width: 800px) 400px, (max-width: 1170px) 1170px, 2000px" class="rounded w-100"></figure></div> <div class="row justify-content-center"><section itemprop="articleBody" class="col-md-9"><div class="Post__Content content__default"><p>Recently I ventured to build and install a copy of Metview on a local computer, in order to provide my wife a testing platform when she is working from home. Metview is a meteorological workstation application and its capabilities include powerful data access, processing and visualization. It is maintained and developed in part by <a href="https://software.ecmwf.int/wiki/display/METV/Metview" target="_blank" rel="noopener noreferrer">ECMWF<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>ECMWF site does provide relatively precise instructions how to build software from sources, but I hit a wall at first try, mainly because instructions are a little vague at some points, and take many things for granted and obvious. This post should serve as a kind of mental note for future reference, but if somebody finds it useful, itâ€™s fine by me ðŸ˜ƒ</p> <h2 id="distribution"><a href="#distribution" class="Permalink">#</a> Distribution</h2> <p><em>UPDATE: Originally, this guide was written for openSUSE 11.3, but in the meantime I wondered if it would work on newer version (12.3). Short answer: it did, but with some modifications. I linked newer set of scripts <a href="#12_3">below</a> for openSUSE 12.3, there are some additional packages needed, and I used this opportunity to install newer version of MetView too (4.3.7)</em> ðŸ˜ƒ</p> <p>Installation guide lists openSUSE 11.3 and SLES 11 64bit as tested platform, so I didnâ€™t want to experiment and went with <a href="http://ftp5.gwdg.de/pub/opensuse/discontinued/distribution/11.3/iso/" target="_blank" rel="noopener noreferrer">openSUSE 11.3 x86_64<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. There is some benefit in testing older Linux distributions, since there has been some time people were using it. Online instructions are a plenty for openSUSE, and coming from Ubuntu/Debian background was rather easy. There are similar commands for almost all operations which differ between them, and once you learn proper paths for configuration files, you feel right at home.</p> <p>I even managed to find an AutoYAST script online, which helped me to speed up installation by making it automatic. You just place the <a href="https://cdn.dvuckovic.com/downloads/autoyast.tar.gz" target="_blank" rel="noopener noreferrer">configuration files<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> on a USB flash, and when you boot from installation DVD you just supply following Boot Options:</p> <div class="language- extra-class"><pre class="language-text"><code>autoyast=device:///autoinst.xml
</code></pre></div><p>Setup will then search all devices for this configuration file, and luckily it will find one on your USB flash and proceed with automatic installation. Easy!</p> <p>This script will create one user <code>metview</code> with password <code>metview</code> (which is also root password).</p> <h2 id="building-libraries"><a href="#building-libraries" class="Permalink">#</a> Building libraries</h2> <p>Metview is dependent on some custom libraries, so you are advised to build these first. This are listed in preferred order of installation:</p> <ul><li><a href="https://software.ecmwf.int/wiki/display/GRIB/What+is+GRIB-API" target="_blank" rel="noopener noreferrer">GRIB API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (I used v1.9.16)</li> <li><a href="https://software.ecmwf.int/wiki/display/EMOS/What+is+EMOSLIB" target="_blank" rel="noopener noreferrer">EMOSLIB<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (I used v000382)</li> <li><a href="https://software.ecmwf.int/wiki/pages/viewpage.action?pageId=14975084" target="_blank" rel="noopener noreferrer">Magics++<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (I used v2.18.12)</li></ul> <p>Before you can start compiling and installing everything, you first need some additional packages atop basic openSUSE installation. Please bear in mind that most commands need root privileges, so you might first want to go in superuser shell with <code>su</code> command.</p> <p>For some reason, my basic installation didnâ€™t include online software repositories, so I had to add it first:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">zypper</span> -n ar http://ftp5.gwdg.de/pub/opensuse/discontinued/distribution/11.3/repo/oss/ OSS
<span class="token function">zypper</span> -n --no-gpg-checks --gpg-auto-import-keys ar http://download.opensuse.org/repositories/Application:/Geo/openSUSE_11.3/ Geo
</code></pre></div><p>First one is official OSS repository, used for most of the packages. Second one is used for some additional binary packages needed for successful build process. They lack appropriate security key, thatâ€™s why there are some additional switches to override checks. There is also non interactive switch (<code>-n</code>) because my main goal is to make everything scriptable for automatic installation in the end ðŸ˜ƒ</p> <p>After you add repositories, you must refresh them and then install needed packages:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">zypper</span> -n --no-gpg-checks ref
<span class="token function">zypper</span> -n --no-gpg-checks <span class="token keyword">in</span> libnetcdf4 libnetcdf-devel libexpat-devel expat ghostscript-devel perl-Geo-Proj4 libproj-devel cairomm-devel cairomm-32bit perl-Cairo gd-devel jasper libjasper-devel gcc-fortran libqt4-devel openmotif openmotif-devel ImageMagick-devel ksh-devel libQtWebKit-devel <span class="token function">nano</span>
</code></pre></div><p>Next, we proceed with building GRIB API. First untar the archive and go to itâ€™s directory:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> zxvf grib_api-1.9.16.tar.gz
<span class="token builtin class-name">cd</span> grib_api-1.9.16/
</code></pre></div><p>Instructions advise to use specific compiler flags on 64-bit systems (<code>-fPIC -O2</code>), so we will then call configuration script with them and default installation directory:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./configure <span class="token assign-left variable">CFLAGS</span><span class="token operator">=</span><span class="token string">&quot;-fPIC -O2&quot;</span> --prefix<span class="token operator">=</span>/usr/local
</code></pre></div><p>Finally, we build, check and install library:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">make</span>
<span class="token function">make</span> check
<span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><p>If everything goes fine, there should not be any errors reported. Next on the list is EMOSLIB.</p> <p>First, untar the archive:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> zxvf emos_000382.tar.gz
<span class="token builtin class-name">cd</span> emos_000382/
</code></pre></div><p>In order to build this properly, you first need to change aforementioned flags in configuration file. This wasnâ€™t adequately explained in original instructions, so after little trial and error I finally made it. Easiest way to do this is to change configuration file from the command line, like this:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> config/config.linuxR64 config/config.linuxR64.old
<span class="token function">sed</span> <span class="token string">&quot;s/CFLAGS  = -g/CFLAGS  = -fPIC -O2 -g/g&quot;</span> config/config.linuxR64 <span class="token operator">&gt;</span> config/config.linuxR64.new
<span class="token function">mv</span> config/config.linuxR64.new config/config.linuxR64
<span class="token function">chmod</span> <span class="token number">744</span> config/config.linuxR64
</code></pre></div><p>Next, I needed to change build script because I had to make sure the procedure is non-interactive. I just deleted all user interaction logic, and set variables to their default values. Script is included in the install script archive below, just copy it to <code>emos_000382/</code> folder and make sure it has executable permission.</p> <p>Now, to the build and install process:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./build_library_R64
./install
</code></pre></div><p>Only one library remains and itâ€™s the most complex one (Magics++). Proceed with following commands:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> zxvf Magics-2.18.12.tar.gz
<span class="token builtin class-name">cd</span> Magics-2.18.12/
./configure <span class="token assign-left variable">CFLAGS</span><span class="token operator">=</span><span class="token string">&quot;-fPIC -O2&quot;</span> --prefix<span class="token operator">=</span>/usr/local --enable-metview --enable-bufr
<span class="token function">make</span>
<span class="token function">make</span> check
<span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><p>This will take most of the time needed for entire operation, some 30 minutes on a quad-core machine. In the end, you must set the environment variable for this library, and make sure it is included in all users bash environment:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> -e <span class="token string">&quot;MAGPLUS_HOME=/usr/local<span class="token entity" title="\n">\n</span>export MAGPLUS_HOME&quot;</span> <span class="token operator">&gt;</span> /etc/bash.bashrc.local
<span class="token builtin class-name">export</span> <span class="token assign-left variable">MAGPLUS_HOME</span><span class="token operator">=</span>/usr/local
</code></pre></div><h2 id="building-software"><a href="#building-software" class="Permalink">#</a> Building software</h2> <p>Finally, we can now build Metview software. I used v4.3.4 release which can be found on the <a href="https://software.ecmwf.int/wiki/display/METV/Releases" target="_blank" rel="noopener noreferrer">ECMWF software site<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> zxvf Metview-4.3.4.tar.gz
<span class="token builtin class-name">cd</span> Metview-4.3.4/
./configure <span class="token assign-left variable">CFLAGS</span><span class="token operator">=</span><span class="token string">&quot;-fPIC -O2&quot;</span> --prefix<span class="token operator">=</span>/usr/local
<span class="token function">make</span>
<span class="token function">make</span> check
<span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><p>If everything goes to plan, installation is complete. I made a shortcut link and it can be placed to desktop with following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> MetView.desktop ~/Desktop/
</code></pre></div><h2 id="automating-installation"><a href="#automating-installation" class="Permalink">#</a> Automating installation</h2> <p>When I was content with installation procedure, I set to write a bash script for automatic installation which contains all the commands above. Installation script can be downloaded from <a href="https://cdn.dvuckovic.com/downloads/install-metview-11.3.zip" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, the archive includes modified build script for EMOSLIB and desktop shortcut. To run it use following commands:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">su</span>
<span class="token builtin class-name">.</span> ./install-metview.sh
</code></pre></div><p>Additional version of script suitable for openSUSE 12.3 and MetView 4.3.7 can be downloaded <a name="12_3" href="https://cdn.dvuckovic.com/downloads/install-metview-12.3.zip">here</a>.</p></div></section></div> <div class="row"><section itemprop="articleBody" class="col"><div class="Post__Content content__wide"></div></section></div> <div class="Sticker d-none d-xxl-block Toc position-fixed Toc" style="opacity:0;"><div class="Toc__Item Toc__H1"><a href="#app" title="Building and installing Metview in openSUSE">
            Building and installing Metview in openSUSE
        </a></div> <div class="Toc__Item Toc__H2 Toc__Item--Active"><a href="#distribution" title="Distribution">
            Distribution
        </a></div><div class="Toc__Item Toc__H2"><a href="#building-libraries" title="Building libraries">
            Building libraries
        </a></div><div class="Toc__Item Toc__H2"><a href="#building-software" title="Building software">
            Building software
        </a></div><div class="Toc__Item Toc__H2"><a href="#automating-installation" title="Automating installation">
            Automating installation
        </a></div></div></article> <footer class="container-fluid flex-grow-1 Footer"><div class="container-lg my-3"><div class="row align-items-center"><div class="col-lg-3 order-3 order-lg-1"><ul role="menu" class="d-flex flex-row justify-content-center justify-content-lg-start m-0 list-unstyled"><li role="menuitem" class="Footer__Nav__Item"><a href="/" class="NavLink">
                            Â© 2021 Dusan Vuckovic
                        </a></li></ul></div> <div class="col-lg-6 order-2 mt-1 mb-2 mb-lg-0 Footer__Center"><ul role="menu" class="d-flex flex-wrap justify-content-center m-0 list-unstyled"><li role="menuitem" class="mb-1 me-1 Footer__Nav__Item"><a href="https://vuepress.vuejs.org" target="_blank" class="NavLink NavLink--External"><img src="https://img.shields.io/badge/powered_by-VuePress-3eaf7c?logo=Vue.js" alt="Powered by VuePress"></a></li><li role="menuitem" class="mb-1 me-1 Footer__Nav__Item"><a href="https://www.cloudflare.com" target="_blank" class="NavLink NavLink--External"><img src="https://img.shields.io/badge/secured_by-Cloudflare-f38020?logo=cloudflare" alt="Secured by Cloudflare"></a></li><li role="menuitem" class="mb-1 me-1 Footer__Nav__Item"><a href="http://www.wtfpl.net" target="_blank" class="NavLink NavLink--External"><img src="https://img.shields.io/badge/license-WTFPL-white" alt="Licensed as WTFPL"></a></li></ul></div> <div class="col-lg-3 order-1 order-lg-3 mb-2 mb-lg-0"><ul role="menu" class="d-flex flex-row justify-content-center justify-content-lg-end m-0 list-unstyled"><li role="menuitem" class="Footer__Nav__Item"><a href="#email-modal" data-bs-toggle="modal" class="NavLink NavLink--External">
                            Email
                        </a></li><li role="menuitem" class="Footer__Nav__Item"><a href="/privacy-policy.html" class="NavLink">
                            Privacy
                        </a></li><li role="menuitem" class="Footer__Nav__Item"><a href="https://github.com/dvuckovic" target="_blank" class="NavLink NavLink--External">
                            Github
                        </a></li></ul></div></div></div></footer> <div id="email-modal" tabindex="-1" aria-hidden="true" class="modal fade"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h2 class="modal-title">Hey there!</h2></div> <div class="modal-body"><p>The best way to get in touch with me directly is to drop me an email.</p>
<p>My email address is my <strong>given name</strong> at this website.</p>
<p><em>If you want to send me a secure message, you can get <a href="https://cdn.dvuckovic.com/downloads/dvuckovic.crt" class="NavLink NavLink--PublicKey" download>my S/MIME certificate</a>.</em></p><p><small><em>Or, if you prefer PGP, get <a href="https://cdn.dvuckovic.com/downloads/dvuckovic.pub" class="NavLink NavLink--PublicKey" download>my public key</a>.</em></small></p></div> <div class="modal-footer"><button type="button" data-bs-dismiss="modal" class="btn btn-primary">Got it!</button></div></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7a75f1fe.js" defer></script><script src="/assets/js/19.1346b3bf.js" defer></script><script src="/assets/js/12.e1236284.js" defer></script><script src="/assets/js/37.514cbc8e.js" defer></script>
  </body>
</html>
