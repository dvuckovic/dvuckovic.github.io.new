<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Solve reCAPTCHA in JDownloader by e-mail | Dusan’s Space</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;family=Merriweather+Sans:ital,wght@0,600;1,600&amp;family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;display=swap">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-SJD4XMS3R4"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-SJD4XMS3R4');</script>
    <link rel="alternate" type="application/rss+xml" href="https://dvuckovic.com/rss.xml" title="Dusan’s Space RSS Feed">
    <meta name="description" content="Automate CAPTCHA solving while you’re out & about!">
    <meta property="article:published_time" content="2011-10-26T00:00:00.000Z">
    <meta property="article:modified_time" content="2021-06-20T12:02:17.000Z">
    <meta property="og:site_name" content="Dusan’s Space">
    <meta property="og:title" content="Solve reCAPTCHA in JDownloader by e-mail">
    <meta property="og:description" content="Automate CAPTCHA solving while you’re out & about!">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/2011/10/26/solve-recaptcha-jdownloader-email/">
    <meta property="og:image" content="https://cdn.dvuckovic.com/posts/recaptcha_header.jpg">
    <meta name="twitter:title" content="Solve reCAPTCHA in JDownloader by e-mail">
    <meta name="twitter:description" content="Automate CAPTCHA solving while you’re out & about!">
    <meta name="twitter:url" content="/2011/10/26/solve-recaptcha-jdownloader-email/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://cdn.dvuckovic.com/posts/recaptcha_header.jpg">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="post, shell, ubuntu, automation">
    <meta property="article:tag" content="post">
    <meta name="theme-color" content="#ff7700">
    <link rel="preload" href="/assets/css/0.styles.e0e4cea7.css" as="style"><link rel="preload" href="/assets/js/app.7a75f1fe.js" as="script"><link rel="preload" href="/assets/js/19.1346b3bf.js" as="script"><link rel="preload" href="/assets/js/12.e1236284.js" as="script"><link rel="preload" href="/assets/js/141.9fec0628.js" as="script"><link rel="prefetch" href="/assets/js/1.47b44be3.js"><link rel="prefetch" href="/assets/js/10.9100961c.js"><link rel="prefetch" href="/assets/js/100.75b666b5.js"><link rel="prefetch" href="/assets/js/101.b3bbfd39.js"><link rel="prefetch" href="/assets/js/102.cbe66969.js"><link rel="prefetch" href="/assets/js/103.b08a0869.js"><link rel="prefetch" href="/assets/js/104.b4824db2.js"><link rel="prefetch" href="/assets/js/105.e8e6da25.js"><link rel="prefetch" href="/assets/js/106.df067897.js"><link rel="prefetch" href="/assets/js/107.4f834df4.js"><link rel="prefetch" href="/assets/js/108.b9fa77db.js"><link rel="prefetch" href="/assets/js/109.39b66c07.js"><link rel="prefetch" href="/assets/js/11.2d771e9d.js"><link rel="prefetch" href="/assets/js/110.a72e9012.js"><link rel="prefetch" href="/assets/js/111.8f8d0d52.js"><link rel="prefetch" href="/assets/js/112.483c0499.js"><link rel="prefetch" href="/assets/js/113.53a1b0ec.js"><link rel="prefetch" href="/assets/js/114.994e6fc6.js"><link rel="prefetch" href="/assets/js/115.d019b3b3.js"><link rel="prefetch" href="/assets/js/116.7da14914.js"><link rel="prefetch" href="/assets/js/117.354f5fc2.js"><link rel="prefetch" href="/assets/js/118.4bd88bb2.js"><link rel="prefetch" href="/assets/js/119.5bae7b8d.js"><link rel="prefetch" href="/assets/js/120.e909e859.js"><link rel="prefetch" href="/assets/js/121.cc4c1bb4.js"><link rel="prefetch" href="/assets/js/122.e935a102.js"><link rel="prefetch" href="/assets/js/123.bd515f08.js"><link rel="prefetch" href="/assets/js/124.f307495d.js"><link rel="prefetch" href="/assets/js/125.494e6420.js"><link rel="prefetch" href="/assets/js/126.cf0aa04c.js"><link rel="prefetch" href="/assets/js/127.127e1e9d.js"><link rel="prefetch" href="/assets/js/128.a13966fc.js"><link rel="prefetch" href="/assets/js/129.fb9a5055.js"><link rel="prefetch" href="/assets/js/13.4a201018.js"><link rel="prefetch" href="/assets/js/130.0bab81cb.js"><link rel="prefetch" href="/assets/js/131.8d311242.js"><link rel="prefetch" href="/assets/js/132.f67d9af5.js"><link rel="prefetch" href="/assets/js/133.0901673e.js"><link rel="prefetch" href="/assets/js/134.4fd746f6.js"><link rel="prefetch" href="/assets/js/135.48d3c5be.js"><link rel="prefetch" href="/assets/js/136.87d5eb67.js"><link rel="prefetch" href="/assets/js/137.6552c782.js"><link rel="prefetch" href="/assets/js/138.eb4cae8e.js"><link rel="prefetch" href="/assets/js/139.f7100a2e.js"><link rel="prefetch" href="/assets/js/14.1e9f23d3.js"><link rel="prefetch" href="/assets/js/140.e742b946.js"><link rel="prefetch" href="/assets/js/142.0c3c7ddb.js"><link rel="prefetch" href="/assets/js/143.04245474.js"><link rel="prefetch" href="/assets/js/144.3abcb36c.js"><link rel="prefetch" href="/assets/js/15.ff2cd584.js"><link rel="prefetch" href="/assets/js/16.f4971c4d.js"><link rel="prefetch" href="/assets/js/17.075cedfd.js"><link rel="prefetch" href="/assets/js/18.d792f2ec.js"><link rel="prefetch" href="/assets/js/2.c692d64a.js"><link rel="prefetch" href="/assets/js/20.15be60dc.js"><link rel="prefetch" href="/assets/js/21.c1a7bfa3.js"><link rel="prefetch" href="/assets/js/22.943f67ea.js"><link rel="prefetch" href="/assets/js/23.f431f4d6.js"><link rel="prefetch" href="/assets/js/24.339c4804.js"><link rel="prefetch" href="/assets/js/25.c67844dd.js"><link rel="prefetch" href="/assets/js/26.a52a97e9.js"><link rel="prefetch" href="/assets/js/27.dfbd74dc.js"><link rel="prefetch" href="/assets/js/28.de140592.js"><link rel="prefetch" href="/assets/js/29.de0191f6.js"><link rel="prefetch" href="/assets/js/3.22cfc250.js"><link rel="prefetch" href="/assets/js/30.5ec4efe2.js"><link rel="prefetch" href="/assets/js/31.3b982379.js"><link rel="prefetch" href="/assets/js/32.c6814f82.js"><link rel="prefetch" href="/assets/js/33.e7bb6f69.js"><link rel="prefetch" href="/assets/js/34.9dc51e9f.js"><link rel="prefetch" href="/assets/js/35.113cecc0.js"><link rel="prefetch" href="/assets/js/36.3b4c1524.js"><link rel="prefetch" href="/assets/js/37.514cbc8e.js"><link rel="prefetch" href="/assets/js/38.6c805e13.js"><link rel="prefetch" href="/assets/js/39.6a747384.js"><link rel="prefetch" href="/assets/js/40.0c1f511e.js"><link rel="prefetch" href="/assets/js/41.8232996f.js"><link rel="prefetch" href="/assets/js/42.9cc151a3.js"><link rel="prefetch" href="/assets/js/43.ac76176b.js"><link rel="prefetch" href="/assets/js/44.5c73c2ae.js"><link rel="prefetch" href="/assets/js/45.8aa2357a.js"><link rel="prefetch" href="/assets/js/46.d2a10c93.js"><link rel="prefetch" href="/assets/js/47.92d84b19.js"><link rel="prefetch" href="/assets/js/48.5fd68038.js"><link rel="prefetch" href="/assets/js/49.975e7623.js"><link rel="prefetch" href="/assets/js/50.2a526f11.js"><link rel="prefetch" href="/assets/js/51.0b39be9e.js"><link rel="prefetch" href="/assets/js/52.1569c0e2.js"><link rel="prefetch" href="/assets/js/53.357bb5b0.js"><link rel="prefetch" href="/assets/js/54.d2f0ee28.js"><link rel="prefetch" href="/assets/js/55.5a6dce91.js"><link rel="prefetch" href="/assets/js/56.443679dc.js"><link rel="prefetch" href="/assets/js/57.591116bf.js"><link rel="prefetch" href="/assets/js/58.6079e6ab.js"><link rel="prefetch" href="/assets/js/59.10b56410.js"><link rel="prefetch" href="/assets/js/60.2042eab2.js"><link rel="prefetch" href="/assets/js/61.f3d5a99f.js"><link rel="prefetch" href="/assets/js/62.ca93a9e8.js"><link rel="prefetch" href="/assets/js/63.5f72d7fe.js"><link rel="prefetch" href="/assets/js/64.02655094.js"><link rel="prefetch" href="/assets/js/65.ed2d18c4.js"><link rel="prefetch" href="/assets/js/66.04ff7e44.js"><link rel="prefetch" href="/assets/js/67.95f7e57e.js"><link rel="prefetch" href="/assets/js/68.92b2a93f.js"><link rel="prefetch" href="/assets/js/69.7be4992d.js"><link rel="prefetch" href="/assets/js/70.3f9ad26a.js"><link rel="prefetch" href="/assets/js/71.d981d4cf.js"><link rel="prefetch" href="/assets/js/72.6468e54e.js"><link rel="prefetch" href="/assets/js/73.511ae092.js"><link rel="prefetch" href="/assets/js/74.228329eb.js"><link rel="prefetch" href="/assets/js/75.0d8b8262.js"><link rel="prefetch" href="/assets/js/76.e871abb9.js"><link rel="prefetch" href="/assets/js/77.1c43e23d.js"><link rel="prefetch" href="/assets/js/78.a97e55eb.js"><link rel="prefetch" href="/assets/js/79.d3714341.js"><link rel="prefetch" href="/assets/js/80.f5e67788.js"><link rel="prefetch" href="/assets/js/81.424fac9a.js"><link rel="prefetch" href="/assets/js/82.896a47aa.js"><link rel="prefetch" href="/assets/js/83.b23ff087.js"><link rel="prefetch" href="/assets/js/84.8cd76b1e.js"><link rel="prefetch" href="/assets/js/85.74ffdeee.js"><link rel="prefetch" href="/assets/js/86.4e98c5e0.js"><link rel="prefetch" href="/assets/js/87.5842ad2a.js"><link rel="prefetch" href="/assets/js/88.ea409a24.js"><link rel="prefetch" href="/assets/js/89.8e3cfb1e.js"><link rel="prefetch" href="/assets/js/9.73534068.js"><link rel="prefetch" href="/assets/js/90.544ae8d5.js"><link rel="prefetch" href="/assets/js/91.b2bf80c8.js"><link rel="prefetch" href="/assets/js/92.9e37cf18.js"><link rel="prefetch" href="/assets/js/93.d2624e22.js"><link rel="prefetch" href="/assets/js/94.70594964.js"><link rel="prefetch" href="/assets/js/95.fdc05f59.js"><link rel="prefetch" href="/assets/js/96.5a1bf07d.js"><link rel="prefetch" href="/assets/js/97.fcf77cd3.js"><link rel="prefetch" href="/assets/js/98.53ab7c12.js"><link rel="prefetch" href="/assets/js/99.d488142a.js"><link rel="prefetch" href="/assets/js/getag-map.64e16d15.js"><link rel="prefetch" href="/assets/js/vendors~bootstrap.6d48da59.js"><link rel="prefetch" href="/assets/js/vendors~masonry-layout.135896b3.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.9a9ceefc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e0e4cea7.css"><style data-vue-ssr-id="data-v-3ea4e60c_0">.bi{fill:currentColor;width:1em;height:1em;font-size:1em;margin-bottom:.125em;vertical-align:middle}.bi--variant-success{color:var(--bs-success)}.bi--variant-warning{color:var(--bs-warning)}.bi--variant-danger{color:var(--bs-danger)}.bi--variant-info{color:var(--bs-info)}.bi--variant-primary{color:var(--bs-primary)}.bi--variant-secondary{color:var(--bs-secondary)}.bi--variant-dark{color:var(--bs-dark)}.bi--variant-light{color:var(--bs-light)}.bi--size-sm{font-size:.75em}.bi--size-md{font-size:1.25rem}.bi--size-lg{font-size:1.33333333rem}.bi--size-2x{font-size:2rem}.bi--size-3x{font-size:3rem}.bi--size-4x{font-size:4rem}.bi--size-5x{font-size:5rem}.bi--animation-cylon{animation:bi-animation-cylon .75s ease-in-out infinite alternate}.bi--animation-cylon-vertical{animation:bi-animation-cylon-vertical .75s ease-in-out infinite alternate}.bi--animation-fade{animation:bi-animation-fade .75s ease-in-out infinite alternate}.bi--animation-spin{animation:bi-animation-spin 2s linear infinite normal}.bi--animation-spin-reverse{animation:bi-animation-spin 2s linear infinite reverse}.bi--animation-spin-pulse{animation:bi-animation-spin 1s steps(8) infinite normal}.bi--animation-spin-reverse-pulse{animation:bi-animation-spin 1s steps(8) infinite reverse}.bi--animation-throb{animation:bi-animation-throb .75s ease-in-out infinite alternate}@keyframes bi-animation-cylon{0%{transform:translateX(-25%)}100%{transform:translateX(25%)}}@keyframes bi-animation-cylon-vertical{0%{transform:translateY(25%)}100%{transform:translateY(-25%)}}@keyframes bi-animation-fade{0%{opacity:.1}100%{opacity:1}}@keyframes bi-animation-spin{0%{transform:rotate(0)}100%{transform:rotate(359deg)}}@keyframes bi-animation-throb{0%{opacity:.5;transform:scale(.5)}100%{opacity:1;transform:scale(1)}}
</style>
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="d-flex flex-column min-vh-100"><header class="container-fluid position-relative Header"><nav class="navbar navbar-expand-sm navbar-dark"><div class="container-lg"><a href="/" class="NavLink navbar-brand"><img src="https://cdn.dvuckovic.com/images/avatar.png" alt="Dusan’s Space" title="Dusan’s Space" height="32" class="d-block position-relative"></a> <button type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"><svg class="bi bi--size-lg"><g transform="" transform-origin="center"><use xlink:href="/assets/img/bootstrap-icons.982100e4.svg#list"></use></g></svg></button> <div id="navbar" class="collapse navbar-collapse"><ul role="menu" class="navbar-nav align-items-end me-auto text-uppercase"><li role="menuitem" class="position-relative nav-item"><a href="/tag/post/" class="NavLink nav-link">
                            Posts
                        </a></li><li role="menuitem" class="position-relative nav-item"><a href="/tag/project/" class="NavLink nav-link">
                            Projects
                        </a></li><li role="menuitem" class="position-relative nav-item"><a href="/tag/photo/" class="NavLink nav-link">
                            Photos
                        </a></li><li role="menuitem" class="position-relative nav-item"><a href="/tag/panorama/" class="NavLink nav-link">
                            Panoramas
                        </a></li></ul> <ul class="navbar-nav justify-content-end align-items-end Header__Nav__Right"><li class="nav-item"><div class="search-box pe-4"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></li> <li class="nav-item"><a href="/rss.xml" title="Feed" class="Feed pe-4"><svg class="bi bi--size-md"><g transform="" transform-origin="center"><use xlink:href="/assets/img/bootstrap-icons.982100e4.svg#rss-fill"></use></g></svg></a></li> <li class="nav-item"><a href="https://instagram.com/dvuckovic82" target="_blank" rel="noopener noreferrer" title="Instagram" class="NavLink NavLink--External position-relative d-block pe-4"><svg class="bi bi--size-md"><g transform="" transform-origin="center"><use xlink:href="/assets/img/bootstrap-icons.982100e4.svg#instagram"></use></g></svg></a></li><li class="nav-item"><a href="https://github.com/dvuckovic" target="_blank" rel="noopener noreferrer" title="GitHub" class="NavLink NavLink--External position-relative d-block"><svg class="bi bi--size-md"><g transform="" transform-origin="center"><use xlink:href="/assets/img/bootstrap-icons.982100e4.svg#github"></use></g></svg></a></li></ul></div></div></nav> <!----></header> <article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="container-lg px-3 Post GlobalLayout"><div class="row justify-content-center"><header id="header" class="col-md-9 Post__Header"><ul itemprop="keywords" class="d-flex flex-row mb-2 list-unstyled Post__Meta Post__Meta--Tags"><li class="text-uppercase PostTag"><a href="/tag/post" class="me-3"><span>
            post
        </span></a></li><li class="text-uppercase PostTag"><a href="/tag/shell" class="me-3"><span>
            shell
        </span></a></li><li class="text-uppercase PostTag"><a href="/tag/ubuntu" class="me-3"><span>
            ubuntu
        </span></a></li><li class="text-uppercase PostTag"><a href="/tag/automation" class="me-3"><span>
            automation
        </span></a></li></ul> <h1 itemprop="name headline" class="Post__Title">
                Solve reCAPTCHA in JDownloader by e-mail
            </h1> <p itemprop="description" class="mt-4 mb-4 Post__Summary">
                Automate CAPTCHA solving while you’re out &amp; about!
            </p> <footer><!----> <div class="text-uppercase Post__Meta Post__Meta--Date"><time itemprop="datePublished" datetime="2011-10-26T00:00:00.000Z">
                        2011-10-26
                    </time> <span class="mx-2">
                            •
                        </span>
                        15 minutes
                    </div></footer></header></div> <div class="row"><figure class="col Post__FullImage"><img src="https://cdn.dvuckovic.com/posts/recaptcha_header.jpg" alt="Solve reCAPTCHA in JDownloader by e-mail" sizes="(max-width: 800px) 400px, (max-width: 1170px) 1170px, 2000px" class="rounded w-100"></figure></div> <div class="row justify-content-center"><section itemprop="articleBody" class="col-md-9"><div class="Post__Content content__default"><p><a href="http://www.google.com/recaptcha" target="_blank" rel="noopener noreferrer">reCAPTCHA<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is nowadays one of the safest way to perform a Turing test. Many file hosts have implemented it for their free users, so it’s becoming more and more of a problem when there is need to download multiple files from a single uploader (such as spanned file archives). As an occasional downloader, I don’t have need to purchase premium accounts and lift these restrictions, so I mainly use <a href="http://www.jdownloader.org" target="_blank" rel="noopener noreferrer">JDownloader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> with free accounts to download them.</p> <p>JDownloader has built-in anti-captcha mechanism, but, of course, this does not work for reCAPTCHA. Simply, it is used on so many systems, that an eventual automatic solution would surely compromise many, many sites, and prompt an immediate tweaking of it’s algorithm. Heck, even this site uses reCAPTCHA for anonymous comments, so it’s not an option.</p> <p>Evidently, this threat is recognized by a whole bunch of developers, and work on it is effectively undermined. I have seen several OCR attempts, but percentage of correct answers is below 20%, and is bound to go even lower every time the algorithm is tweaked.</p> <p>That said, I needed a solution for a remote reCAPTCHA solving, since JD does not provide it. And natural answer was: e-mail. As an early Android user, I have a perk of Gmail push mail option, which results in almost-instantaneous notification on the phone. Add a nice e-mail client, and you can respond to a message very fast, which is essential for a few minutes window offered to solve a reCAPTCHA challenge.</p> <p><em>NOTE: The recipe below is for Linux only!!! I used an Ubuntu distribution. Theoretically, this could work on a Windows/Mac platform also, if appropriate substitute programs exist. However, due to specific personal needs, I didn’t look around and can not guarantee for it to work. It is too platform specific!</em></p> <h2 id="method"><a href="#method" class="Permalink">#</a> Method</h2> <p>Since I dug around earlier in JDownloader folders, I noticed that it saves all captcha images in the <code>JDownloader/captchas</code> folder. So, effectively if you need to know when a captcha image is presented to a user, simply monitor this folder for any new files. Then of course, you can grab it, send it yourself by e-mail, reply code, have a script read it and simulate typing it to appropriate text box. Easy?</p> <p>Well, almost 😃 On Linux there are many packages which can provide help for each step of this method, but finding the right combination of them needed some work. Add bash scripting to the list, and it’s a handful. But let’s start.</p> <h3 id="prerequisites"><a href="#prerequisites" class="Permalink">#</a> Prerequisites</h3> <p>First, note the username under which your X11 and JDownloader works (e.g. username).</p> <p>Now note the JDownloader folder (e.g. <code>~/JDownloader</code>). I will assume that you have JDownloader up and running, and set to your needs. It is advisable to prolong the time limit on captcha window (Settings &gt; AntiCaptcha &gt; Countdown for CAPTCHA window). I set it to 300 seconds, but probably the captcha will be already stale by then. This simply gives you enough time to respond to challenge, by keeping the window for input open.</p> <p>Next, create a folder to store scripts, a note it’s path (e.g. <code>~/scripts</code>).</p> <p>Also, note your e-mail address where you would like to receive messages with captcha images (e.g. <code>you@gmail.com</code>), and be sure to setup a separate e-mail account for your computer to read (e.g. <code>computer@gmail.com</code>; Gmail is probably best option, because it provides <em>free</em> POP3 access).</p> <p>Now, let’s install some packages:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>username@ubuntu:~$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> incron fetchmail procmail sendemail xdotool
</code></pre></div><ul><li><code>incron</code> handles filesystem events and can fire off scripts based on them</li> <li><code>fetchmail</code> &amp; <code>procmail</code> handles receiving e-mail and acting upon it</li> <li><code>sendemail</code>, well, it sends e-mail 😃</li> <li><code>xdotool</code> can simulate keypresses in X11</li></ul> <p>Then proceed to configure each of the programs and scripts needed.</p> <h3 id="incron"><a href="#incron" class="Permalink">#</a> incron</h3> <p><code>incron</code> is an &quot;inotify cron&quot; system. It consists of a daemon and a table manipulator. You can use it a similar way as the regular cron. The difference is that the inotify cron handles filesystem events rather than time periods. So, it can effectively be used to monitor a folder for changes, and fire off a script if anything is changed.</p> <p>Now, let’s configure it so we can use it under a regular user:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>username@ubuntu:~$ <span class="token function">sudo</span> <span class="token function">nano</span> /etc/incron.conf
</code></pre></div><p>Uncomment the line that starts with:</p> <div class="language-apacheconf extra-class"><pre class="language-apacheconf"><code><span class="token comment"># allowed_users = /etc/incron.allow</span>
</code></pre></div><p>so it becomes:</p> <div class="language-apacheconf extra-class"><pre class="language-apacheconf"><code>allowed_users = /etc/incron.allow
</code></pre></div><p>Next, edit the <code>/etc/incron.allow</code> file, and add your username to it (simply type a username and save file):</p> <div class="language-bash extra-class"><pre class="language-bash"><code>username@ubuntu:~$ <span class="token function">sudo</span> <span class="token function">nano</span> /etc/incron.allow
</code></pre></div><p>Now set up the incron table:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>username@ubuntu:~$ incrontab -e
</code></pre></div><p>It will open up the table in nano editor, paste the following line:</p> <div class="language-apacheconf extra-class"><pre class="language-apacheconf"><code>~/JDownloader/captchas IN_CREATE ~/scripts/fam.sh
</code></pre></div><p>This tells incron to monitor <code>~/JDownloader/captchas</code> folder for new files, and execute <code>~/scripts/fam.sh</code> script accordingly.</p> <h3 id="fam-sh"><a href="#fam-sh" class="Permalink">#</a> fam.sh</h3> <p>This script will have responsibility to check for new files and send them to your e-mail. It’s a simple bash script, copy paste it in a new file from the box below. Be sure to save it to <code>~/scripts</code> folder.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># Change these variables to correct paths</span>
<span class="token assign-left variable">MONITOR_DIR</span><span class="token operator">=</span>~/JDownloader/captchas
<span class="token assign-left variable">TMP_DIR</span><span class="token operator">=</span>~/JDownloader/sent_captchas
<span class="token assign-left variable">SUCCESS_DIR</span><span class="token operator">=</span>~/JDownloader/sent_captchas/success
<span class="token assign-left variable">FILE_EXT</span><span class="token operator">=</span>jpg
<span class="token comment"># Go to captcha directory</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$MONITOR_DIR</span>
<span class="token comment"># List all files with JPG extension</span>
<span class="token assign-left variable">COUNT_FILES</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> -l *.$FILE_EXT <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /dev/null <span class="token operator">|</span> <span class="token function">grep</span> ^- <span class="token operator">|</span> <span class="token function">wc</span> -l<span class="token variable">)</span></span>
<span class="token comment"># If there are files like those, continue</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$COUNT_FILES</span> -gt <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token comment"># Loop all JPG files and move them to the temporary directory</span>
  <span class="token keyword">for</span> <span class="token for-or-select variable">f</span> <span class="token keyword">in</span> *.<span class="token variable">$FILE_EXT</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token function">mv</span> <span class="token variable">$f</span> <span class="token variable">$TMP_DIR</span>
  <span class="token keyword">done</span>
  <span class="token comment"># Go to temporary directory</span>
  <span class="token builtin class-name">cd</span> <span class="token variable">$TMP_DIR</span>
  <span class="token comment"># Loop all files there again</span>
  <span class="token keyword">for</span> <span class="token for-or-select variable">f</span> <span class="token keyword">in</span> *.<span class="token variable">$FILE_EXT</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token comment"># Send each file in a separate email as an attachment</span>
    sendEmail -f computer@gmail.com -t you@gmail.com -u <span class="token string">&quot;[CAPTCHA] Please solve&quot;</span> -m <span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span> -a <span class="token variable">$f</span> -s smtp.gmail.com:25 -xu computer@gmail.com -xp password -q 
    <span class="token comment"># Move each file sent to success directory</span>
    <span class="token function">mv</span> -f <span class="token variable">$f</span> <span class="token variable">$SUCCESS_DIR</span>
  <span class="token keyword">done</span>
<span class="token keyword">fi</span>
</code></pre></div><p>Tweak the variables near the top to your needs, and take a look at the line with sendEmail command: you will need to change your and your computer’s e-mail addresses, and also supply SMTP password for your computer’s e-mail account. If you are using e-mail by another provider, be sure to tweak the SMTP server’s address and port.</p> <p>Now you have the functionality of computer sending you automated e-mails with captchas attached. Congratulations, now let’s continue.</p> <h3 id="fetchmail-procmail"><a href="#fetchmail-procmail" class="Permalink">#</a> fetchmail &amp; procmail</h3> <p>These two programs handle mail receiving on a system, with <code>fetchmail</code> logging and checking mail and <code>procmail</code> executing appropriate scripts. First, let’s configure <code>fetchmail</code>. It depends on a RC file in your user home directory, so let’s create it:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>username@ubuntu:~$ <span class="token function">nano</span> ~/.fetchmailrc
</code></pre></div><p>In it we will define some options:</p> <div class="language-apacheconf extra-class"><pre class="language-apacheconf"><code>set daemon 5;
set syslog;
set postmaster root;
poll pop.gmail.com with proto pop3 and options no dns
<span class="token directive-inline property">user</span> <span class="token string">&quot;computer@gmail.com&quot; there has password &quot;password&quot;</span> is username here options ssl
</code></pre></div><p>We will run <code>fetchmail</code> as a service (daemon mode) with polling of 5 sec interval. Be sure to change computer’s e-mail address, password and your username on the system, so fetchmail will know where to store your email.</p> <p>To start <code>fetchmail</code>, simply type <code>fetchmail</code> at shell prompt. New messages should immediately be received and stored to <code>/var/mail/username</code> file. In order to start <code>fetchmail</code> service as a current at every login, I added the autostart job in GUI, at System &gt; Preferences &gt; Startup Applications. You can do that, or simply create <code>fetchmail.desktop</code> at <code>~/.config/autostart</code> folder:</p> <div class="language-apacheconf extra-class"><pre class="language-apacheconf"><code>[Desktop Entry]
Type=Application
Exec=fetchmail
Hidden=false
NoDisplay=false
X-GNOME-Autostart-enabled=true
Name<span class="token directive-flags keyword">[en_US]</span>=Fetchmail
Name=Fetchmail
Comment<span class="token directive-flags keyword">[en_US]</span>=Start Fetchmail in deamon mode for current user
Comment=Start Fetchmail in deamon mode for current user
</code></pre></div><p>Next up is <code>procmail</code>. Similarly, first create the config file:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>username@ubuntu:~$ <span class="token function">nano</span> ~/.procmailrc
</code></pre></div><p>And edit it to following:</p> <div class="language-apacheconf extra-class"><pre class="language-apacheconf"><code>LOGFILE=/var/log/procmail.log
VERBOSE=YES
LOGABSTRACT=all
:0
* <span class="token regex">^From: You &lt;you@gmail.com&gt;</span>
* <span class="token regex">^Subject:.*CAPTCHA</span>
{
:0c:
<span class="token variable">${DEFAULT}</span>
:0
|~/scripts/type.sh
}
</code></pre></div><p>This <code>procmail</code> recipe will scan incoming message, see if it has your <strong>From</strong> address, appropriate <strong>Subject</strong>, and execute <code>~/scripts/type.sh</code> script with the message at STDIN.</p> <p>Now, let’s move to the final step.</p> <h3 id="type-sh"><a href="#type-sh" class="Permalink">#</a> type.sh</h3> <p>This script will scan message from standard input for the FIRST line in its body, compare this to the last code it received (if any), and if it is new, it will simulate typing it to the active window in GUI (using xdotool).</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># Export X display variable (in order for script to have access to desktop)</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">DISPLAY</span></span><span class="token operator">=</span>:0
<span class="token comment"># Extract new code from STDIN using awk parser, head and</span>
<span class="token comment"># tail commands for first line in the message body</span>
<span class="token assign-left variable">NEW_CODE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> /dev/stdin <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/Content-Type: text\/plain;/,G'</span> <span class="token operator">|</span> <span class="token function">head</span> -3 <span class="token operator">|</span> <span class="token function">tail</span> -1<span class="token variable">)</span></span>
<span class="token comment"># Extract old code from temp file</span>
<span class="token assign-left variable">OLD_CODE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> ~/scripts/old_code<span class="token variable">)</span></span>
<span class="token comment"># If, and only if new code is different from the old code</span>
<span class="token comment"># use xdotool to simulate typing it to active window</span>
<span class="token comment"># and store new code in a temp file</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$NEW_CODE</span>&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;<span class="token variable">$OLD_CODE</span>&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
    xdotool getactivewindow <span class="token builtin class-name">type</span> <span class="token string">&quot;<span class="token variable">$NEW_CODE</span>&quot;</span>
    xdotool key Return
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$NEW_CODE</span>&quot;</span> <span class="token operator">&gt;</span> ~/scripts/old_code
<span class="token keyword">fi</span>
</code></pre></div><p>That does it! This script assumes that the active window in X11 is indeed CAPTCHA window in JD. If the computer is unattended (as is the premise), it will type the code from the e-mail to the box, and simulate pressing &quot;Enter&quot;, after which the download should continue.</p> <h2 id="conclusion"><a href="#conclusion" class="Permalink">#</a> Conclusion</h2> <p>In reality, this method works as intended... more or less 😃 Sometimes I can’t answer immediately, but after a few minutes, new message will appear with new captcha, and so on, until captcha limit is reached (depends on the host).</p> <p><img src="https://cdn.dvuckovic.com/posts/recaptcha-1_big.jpg#nozoom" alt="Received CAPTCHA in Gmail"></p> <p>Of course, these bash scripts method could be refined (e.g. by scanning the files for specific hosts, a method to easily disable/enable monitoring from JD, etc), feel free to build upon it. But it does the job fairly consistent, and it beats the hell out of manually logging via VNC and checking if it is time for new captcha 😃</p> <p><img src="https://cdn.dvuckovic.com/posts/recaptcha-2_big.jpg#nozoom" alt="Sent solution in Gmail"></p></div></section></div> <div class="row"><section itemprop="articleBody" class="col"><div class="Post__Content content__wide"></div></section></div> <div class="Sticker d-none d-xxl-block Toc position-fixed Toc" style="opacity:0;"><div class="Toc__Item Toc__H1"><a href="#app" title="Solve reCAPTCHA in JDownloader by e-mail">
            Solve reCAPTCHA in JDownloader by e-mail
        </a></div> <div class="Toc__Item Toc__H2 Toc__Item--Active"><a href="#method" title="Method">
            Method
        </a></div><div class="Toc__Item Toc__H3"><a href="#prerequisites" title="Prerequisites">
            Prerequisites
        </a></div><div class="Toc__Item Toc__H3"><a href="#incron" title="incron">
            incron
        </a></div><div class="Toc__Item Toc__H3"><a href="#fam-sh" title="fam.sh">
            fam.sh
        </a></div><div class="Toc__Item Toc__H3"><a href="#fetchmail-procmail" title="fetchmail &amp; procmail">
            fetchmail &amp; procmail
        </a></div><div class="Toc__Item Toc__H3"><a href="#type-sh" title="type.sh">
            type.sh
        </a></div><div class="Toc__Item Toc__H2"><a href="#conclusion" title="Conclusion">
            Conclusion
        </a></div></div></article> <footer class="container-fluid flex-grow-1 Footer"><div class="container-lg my-3"><div class="row align-items-center"><div class="col-lg-3 order-3 order-lg-1"><ul role="menu" class="d-flex flex-row justify-content-center justify-content-lg-start m-0 list-unstyled"><li role="menuitem" class="Footer__Nav__Item"><a href="/" class="NavLink">
                            © 2021 Dusan Vuckovic
                        </a></li></ul></div> <div class="col-lg-6 order-2 mt-1 mb-2 mb-lg-0 Footer__Center"><ul role="menu" class="d-flex flex-wrap justify-content-center m-0 list-unstyled"><li role="menuitem" class="mb-1 me-1 Footer__Nav__Item"><a href="https://vuepress.vuejs.org" target="_blank" class="NavLink NavLink--External"><img src="https://img.shields.io/badge/powered_by-VuePress-3eaf7c?logo=Vue.js" alt="Powered by VuePress"></a></li><li role="menuitem" class="mb-1 me-1 Footer__Nav__Item"><a href="https://www.cloudflare.com" target="_blank" class="NavLink NavLink--External"><img src="https://img.shields.io/badge/secured_by-Cloudflare-f38020?logo=cloudflare" alt="Secured by Cloudflare"></a></li><li role="menuitem" class="mb-1 me-1 Footer__Nav__Item"><a href="http://www.wtfpl.net" target="_blank" class="NavLink NavLink--External"><img src="https://img.shields.io/badge/license-WTFPL-white" alt="Licensed as WTFPL"></a></li></ul></div> <div class="col-lg-3 order-1 order-lg-3 mb-2 mb-lg-0"><ul role="menu" class="d-flex flex-row justify-content-center justify-content-lg-end m-0 list-unstyled"><li role="menuitem" class="Footer__Nav__Item"><a href="#email-modal" data-bs-toggle="modal" class="NavLink NavLink--External">
                            Email
                        </a></li><li role="menuitem" class="Footer__Nav__Item"><a href="/privacy-policy.html" class="NavLink">
                            Privacy
                        </a></li><li role="menuitem" class="Footer__Nav__Item"><a href="https://github.com/dvuckovic" target="_blank" class="NavLink NavLink--External">
                            Github
                        </a></li></ul></div></div></div></footer> <div id="email-modal" tabindex="-1" aria-hidden="true" class="modal fade"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h2 class="modal-title">Hey there!</h2></div> <div class="modal-body"><p>The best way to get in touch with me directly is to drop me an email.</p>
<p>My email address is my <strong>given name</strong> at this website.</p>
<p><em>If you want to send me a secure message, you can get <a href="https://cdn.dvuckovic.com/downloads/dvuckovic.crt" class="NavLink NavLink--PublicKey" download>my S/MIME certificate</a>.</em></p><p><small><em>Or, if you prefer PGP, get <a href="https://cdn.dvuckovic.com/downloads/dvuckovic.pub" class="NavLink NavLink--PublicKey" download>my public key</a>.</em></small></p></div> <div class="modal-footer"><button type="button" data-bs-dismiss="modal" class="btn btn-primary">Got it!</button></div></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7a75f1fe.js" defer></script><script src="/assets/js/19.1346b3bf.js" defer></script><script src="/assets/js/12.e1236284.js" defer></script><script src="/assets/js/141.9fec0628.js" defer></script>
  </body>
</html>
