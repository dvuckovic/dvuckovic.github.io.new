(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{1305:function(e,t,n){"use strict";n.r(t);var o=n(9),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("While researching self-signed "),n("em",[e._v("S/MIME certificates")]),e._v(" for "),n("em",[e._v("Gmail")]),e._v(" in "),n("RouterLink",{attrs:{to:"/posts/setup-smime-encryption-gmail.html"}},[e._v("a previous post")]),e._v(", an idea came up to my mind to also try if PGP encryption would work in a similar way. Good news is: it’s even more easy to set it up in "),n("em",[e._v("Thunderbird")]),e._v(", considering you can do everything via GUI!")],1),e._v(" "),n("h2",{attrs:{id:"why-is-it-not-natively-supported"}},[n("a",{staticClass:"Permalink",attrs:{href:"#why-is-it-not-natively-supported"}},[e._v("#")]),e._v(" Why is it not natively supported?")]),e._v(" "),n("p",[e._v("As "),n("em",[e._v("Gmail")]),e._v(" and other bigger free email providers mostly target enterprise with their encryption features, it was probably never an option to support a free standard such as "),n("em",[e._v("OpenPGP")]),e._v(". The issue probably lies in the lack of identity verification, which is almost non-existent for the PGP mechanism. It is actually assumed that you as the email account holder would generate both your public & secret key on your own, and there is never a third party service involved in the whole chain. (Unless you count the key server distribution as such a service, which you could argue for, but it’s not really the same thing.)")]),e._v(" "),n("p",[e._v("Since "),n("em",[e._v("Gmail and Co")]),e._v(" opted for the "),n("em",[e._v("S/MIME certificates")]),e._v(" as their encryption of choice, you will probably never see this natively supported. For sure, "),n("em",[e._v("S/MIME")]),e._v(" is normally a safer choice, but for personal correspondence it’s probably overkill. Additionally, some people are "),n("em",[e._v("stuck in the past")]),e._v(" so sometimes you have no other choice than to resort to PGP for encryption.")]),e._v(" "),n("h2",{attrs:{id:"checklist"}},[n("a",{staticClass:"Permalink",attrs:{href:"#checklist"}},[e._v("#")]),e._v(" Checklist")]),e._v(" "),n("p",[e._v("The process to generate your own "),n("em",[e._v("OpenPGP")]),e._v(" keys is pretty simple. All that you would need is:")]),e._v(" "),n("ul",[n("li",[e._v("Access to "),n("em",[e._v("Gmail")]),e._v(" or a similar email service")]),e._v(" "),n("li",[e._v("Recent version of the "),n("em",[e._v("Thunderbird")]),e._v(" email client")]),e._v(" "),n("li",[e._v("Some secure backup storage for sensitive data")])]),e._v(" "),n("h2",{attrs:{id:"openpgp-key-generation-in-thunderbird"}},[n("a",{staticClass:"Permalink",attrs:{href:"#openpgp-key-generation-in-thunderbird"}},[e._v("#")]),e._v(" OpenPGP Key Generation in Thunderbird")]),e._v(" "),n("p",[e._v("This guide assumes you already have your "),n("em",[e._v("Gmail")]),e._v(" account setup in "),n("em",[e._v("Thunderbird")]),e._v(". It can be either via "),n("em",[e._v("IMAP")]),e._v(" or "),n("em",[e._v("POP3")]),e._v(" protocol, it doesn’t really matter. In case you are having trouble with this, check your settings in the "),n("em",[e._v("Gmail")]),e._v(" web interface, and make sure the desired protocol is enabled. You can then use the new account wizard in "),n("em",[e._v("Thunderbird")]),e._v(" for connecting your account and authenticating via "),n("em",[e._v("OAuth2")]),e._v(".")]),e._v(" "),n("p",[e._v("Once the account is setup, go to the "),n("strong",[e._v("Tools > Account Settings")]),e._v(" screen, and on "),n("strong",[e._v("End-To-End Encryption")]),e._v(" under your account click on the "),n("strong",[e._v("Add Key")]),e._v(" button:")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/pgp-account-settings.png#nozoom",alt:"Account Settings"}})]),e._v(" "),n("p",[e._v("Next, make sure "),n("strong",[e._v("Create a new OpenPGP Key")]),e._v(" is selected, and click "),n("strong",[e._v("Continue")]),e._v(":")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/pgp-add-key.png#nozoom",alt:"Add Key"}})]),e._v(" "),n("p",[e._v("Make sure correct "),n("strong",[e._v("Identity")]),e._v(" is selected (it should contain your name "),n("em",[e._v("and")]),e._v(" your email address). For "),n("strong",[e._v("Key expiry")]),e._v(" you can either chose an expiration date, or opt out for non-expiring key. Make sure to increase the "),n("strong",[e._v("Key size")]),e._v(" to "),n("em",[e._v("4096")]),e._v(" and then press "),n("strong",[e._v("Continue")]),e._v(":")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/pgp-generate-key-settings.png#nozoom",alt:"Generate Key Settings"}})]),e._v(" "),n("p",[e._v("On the last screen of the wizard, just press "),n("strong",[e._v("Confirm")]),e._v(" and wait a bit. You can probably speed up the process by moving your mouse, scrolling around or performing some disk-intensive background operation, since it increases entropy.")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/pgp-generate-key-confirm.png#nozoom",alt:"Generate Key Confirmation"}})]),e._v(" "),n("p",[e._v("At the very end of the process, you will be back in the "),n("em",[e._v("Account Settings")]),e._v(" screen, and the new key should be pre-selected for your account.")]),e._v(" "),n("p",[e._v("As a last step, please take care to backup your keys for future use. First, backup your "),n("em",[e._v("secret")]),e._v(" key by going to the "),n("strong",[e._v("OpenPGP Key Manager")]),e._v(", selecting your key in the list, and clicking on the "),n("strong",[e._v("File > Backup Secret Key(s) To File")]),e._v(". You will need to choose a backup password and confirm it. Similarly, you can backup your "),n("em",[e._v("public")]),e._v(" key by clicking on "),n("strong",[e._v("File > Export Public Key(s) To File")]),e._v(".")]),e._v(" "),n("h2",{attrs:{id:"test-signing"}},[n("a",{staticClass:"Permalink",attrs:{href:"#test-signing"}},[e._v("#")]),e._v(" Test Signing")]),e._v(" "),n("p",[e._v("Just fire off the write email button, and choose the "),n("strong",[e._v("Digitally Sign This Message")]),e._v(" option from the "),n("strong",[e._v("Security")]),e._v(" toolbar button. In case you don’t have the S/MIME mechanism set up, the "),n("strong",[e._v("Encryption Technology")]),e._v(" will default to "),n("strong",[e._v("OpenPGP")]),e._v(" for you automatically.")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/smime-message-signing.png#nozoom",alt:"Signing Message"}})]),e._v(" "),n("p",[e._v("Make sure the email is being sent out from you email address. For signing messages, the recipient does not have to have their PGP key set up.")]),e._v(" "),n("p",[e._v("You can also just save a draft of the message, and check if it’s signed correctly without actually sending it. Look for a small sign badge in the upper right corner of the message preview, for a confirmation that signing was successful.")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/pgp-message-signed.png#nozoom",alt:"Signed Message Badge"}})]),e._v(" "),n("h2",{attrs:{id:"test-encryption"}},[n("a",{staticClass:"Permalink",attrs:{href:"#test-encryption"}},[e._v("#")]),e._v(" Test Encryption")]),e._v(" "),n("p",[e._v("To properly test the encryption with the key you just generated, you will need access to a second email account. To encrypt for the first email address, you actually need to add that address to the recipients (not the sender!).")]),e._v(" "),n("p",[e._v("Similarly to the signing, you can write a message and activate "),n("strong",[e._v("Require Encryption")]),e._v(" option from the "),n("strong",[e._v("Security")]),e._v(" toolbar button.")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/smime-message-encryption.png#nozoom",alt:"Encrypting Message"}})]),e._v(" "),n("p",[e._v("Saving the message as a draft will do the encryption for you, and you can check for confirmation again in the message preview header, where a suitable encrypted badge will be shown.")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/pgp-message-encrypted.png#nozoom",alt:"Encrypted Message Badge"}})]),e._v(" "),n("h2",{attrs:{id:"test-signing-encryption"}},[n("a",{staticClass:"Permalink",attrs:{href:"#test-signing-encryption"}},[e._v("#")]),e._v(" Test Signing & Encryption")]),e._v(" "),n("p",[e._v("Full test can be pulled off by combining both options ("),n("strong",[e._v("Digitally Sign This Message")]),e._v(" and "),n("strong",[e._v("Require Encryption")]),e._v("), but you need to understand it will be impossible to test both the signature and encryption with the same key. They are mutually exclusive, since you will always be signing only messages from your, and only incoming messages will be encrypted.")]),e._v(" "),n("p",[e._v("However, in case you have access to another email account that has its own pair of keys set up, you can at least simulate signed & encrypted conversation. In that case, messages will be marked with a combined badge in their preview header.")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/pgp-message-signed-encrypted.png#nozoom",alt:"Signed & Encrypted Message Badge"}})]),e._v(" "),n("h2",{attrs:{id:"conclusion"}},[n("a",{staticClass:"Permalink",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),n("p",[e._v("Although it’s not available for the web interface, approach outlined above is a viable way to have a PGP encryption workflow integrated in "),n("em",[e._v("Gmail")]),e._v(" or other email services. Especially if seldomly used, in case of some sensitive correspondence.")]),e._v(" "),n("p",[e._v("With keys backed up, you can also use them on other systems, for example on "),n("em",[e._v("Android")]),e._v(" via a suitable app (warm recommendation for the "),n("a",{attrs:{href:"https://email.faircode.eu/",target:"_blank",rel:"noopener noreferrer"}},[e._v("FairEmail"),n("OutboundLink")],1),e._v(" app, which supports PGP encryption, although as a premium feature).")])])}),[],!1,null,null,null);t.default=s.exports}}]);