(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1174:function(t,o,e){"use strict";e.r(o);e(373),e(375),e(35),e(64),e(565),e(598),e(32),e(143);var n=e(49),i=e(3),a=e(599),r=e(605),s=e.n(r),u=e(575);"undefined"!=typeof UNIT_TEST_MODE||i.a.prototype.$env&&(!i.a.prototype.$env||i.a.prototype.$env.GOOGLE_MAPS_API_KEY)||console.warn("Google Maps API is key is missing, did you forget to define the GOOGLE_MAPS_API_KEY value in the .env file?"),i.a.use(a,{load:{key:i.a.prototype.$env&&i.a.prototype.$env.GOOGLE_MAPS_API_KEY,libraries:"drawing"}});var l={name:"GeotagMap",components:{GmapCluster:s.a},props:{id:{type:String},mapType:{type:String,default:"terrain"},zoom:{type:Number,default:15}},data:function(){return{mediumZoom:void 0,thumbnailSize:72}},computed:{photoAlbum:function(){var t=this;return this.id?this.$frontmatter.albums.find((function(o){return o.id===t.id})):this.$frontmatter.albums[0]||{}},imagePaths:function(){return this.$frontmatter.paths},google:function(){return a.gmapApi()},hasLocation:function(){return void 0!==this.photoAlbum.photos.find((function(t){return t.location}))},firstLocation:function(){return this.getLocation(this.photoAlbum.photos.find((function(t){return t.location})).location)},markers:function(){var t=this;return this.photoAlbum.photos.map((function(o){return{position:t.getLocation(o.location),name:o.name,title:o.title,size:o.size,icon:{url:"".concat(t.imagePaths.low).concat(o.name),scaledSize:t.google&&t.google.maps&&new t.google.maps.Size(t.getThumbnailWidth(o.size),t.getThumbnailHeight(o.size)),origin:t.google&&t.google.maps&&new t.google.maps.Point(0,0),anchor:t.google&&t.google.maps&&new t.google.maps.Point(0,0)}}}))}},methods:{getLocation:function(t){return t?{lat:parseFloat(t.split(",")[0]),lng:parseFloat(t.split(",")[1])}:{lat:10,lng:10}},getThumbnailWidth:function(t){var o=t.split("x"),e=Object(n.a)(o,2),i=e[0],a=e[1];return i>a?this.thumbnailSize:Math.round(this.thumbnailSize*i/a)},getThumbnailHeight:function(t){var o=t.split("x"),e=Object(n.a)(o,2),i=e[0],a=e[1];return a>i?this.thumbnailSize:Math.round(this.thumbnailSize*a/i)},showPhoto:function(t,o){this.mediumZoom&&this.mediumZoom.detach();var e=o.domEvent.target;e.setAttribute("srcset","".concat(this.imagePaths.high).concat(t)),this.mediumZoom=Object(u.a)(e),this.mediumZoom.on("closed",(function(){e.removeAttribute("srcset")})),this.mediumZoom.open()}}},m=(e(588),e(9)),c=Object(m.a)(l,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return t.hasLocation?e("div",{staticClass:"GeotagMap"},[e("GmapMap",{staticClass:"mb-3",attrs:{center:t.firstLocation,zoom:t.zoom,options:{fullscreenControl:!1,streetViewControl:!1},"map-type-id":t.mapType}},[e("GmapCluster",{attrs:{"max-zoom":20,"zoom-on-click":""}},t._l(t.markers,(function(o,n){return e("GmapMarker",{key:n,attrs:{position:o.position,icon:o.icon,title:o.title+" ("+o.name+")",clickable:!0},on:{click:function(e){return t.showPhoto(o.name,e)}}})})),1)],1)],1):t._e()}),[],!1,null,null,null);o.default=c.exports},572:function(t,o,e){},588:function(t,o,e){"use strict";e(572)}}]);