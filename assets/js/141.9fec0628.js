(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{1309:function(e,a,t){"use strict";t.r(a);var s=t(9),n=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[t("a",{attrs:{href:"http://www.google.com/recaptcha",target:"_blank",rel:"noopener noreferrer"}},[e._v("reCAPTCHA"),t("OutboundLink")],1),e._v(" is nowadays one of the safest way to perform a Turing test. Many file hosts have implemented it for their free users, so itâ€™s becoming more and more of a problem when there is need to download multiple files from a single uploader (such as spanned file archives). As an occasional downloader, I donâ€™t have need to purchase premium accounts and lift these restrictions, so I mainly use "),t("a",{attrs:{href:"http://www.jdownloader.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("JDownloader"),t("OutboundLink")],1),e._v(" with free accounts to download them.")]),e._v(" "),t("p",[e._v("JDownloader has built-in anti-captcha mechanism, but, of course, this does not work for reCAPTCHA. Simply, it is used on so many systems, that an eventual automatic solution would surely compromise many, many sites, and prompt an immediate tweaking of itâ€™s algorithm. Heck, even this site uses reCAPTCHA for anonymous comments, so itâ€™s not an option.")]),e._v(" "),t("p",[e._v("Evidently, this threat is recognized by a whole bunch of developers, and work on it is effectively undermined. I have seen several OCR attempts, but percentage of correct answers is below 20%, and is bound to go even lower every time the algorithm is tweaked.")]),e._v(" "),t("p",[e._v("That said, I needed a solution for a remote reCAPTCHA solving, since JD does not provide it. And natural answer was: e-mail. As an early Android user, I have a perk of Gmail push mail option, which results in almost-instantaneous notification on the phone. Add a nice e-mail client, and you can respond to a message very fast, which is essential for a few minutes window offered to solve a reCAPTCHA challenge.")]),e._v(" "),t("p",[t("em",[e._v("NOTE: The recipe below is for Linux only!!! I used an Ubuntu distribution. Theoretically, this could work on a Windows/Mac platform also, if appropriate substitute programs exist. However, due to specific personal needs, I didnâ€™t look around and can not guarantee for it to work. It is too platform specific!")])]),e._v(" "),t("h2",{attrs:{id:"method"}},[t("a",{staticClass:"Permalink",attrs:{href:"#method"}},[e._v("#")]),e._v(" Method")]),e._v(" "),t("p",[e._v("Since I dug around earlier in JDownloader folders, I noticed that it saves all captcha images in the "),t("code",[e._v("JDownloader/captchas")]),e._v(" folder. So, effectively if you need to know when a captcha image is presented to a user, simply monitor this folder for any new files. Then of course, you can grab it, send it yourself by e-mail, reply code, have a script read it and simulate typing it to appropriate text box. Easy?")]),e._v(" "),t("p",[e._v("Well, almost ðŸ˜ƒ On Linux there are many packages which can provide help for each step of this method, but finding the right combination of them needed some work. Add bash scripting to the list, and itâ€™s a handful. But letâ€™s start.")]),e._v(" "),t("h3",{attrs:{id:"prerequisites"}},[t("a",{staticClass:"Permalink",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),t("p",[e._v("First, note the username under which your X11 and JDownloader works (e.g. username).")]),e._v(" "),t("p",[e._v("Now note the JDownloader folder (e.g. "),t("code",[e._v("~/JDownloader")]),e._v("). I will assume that you have JDownloader up and running, and set to your needs. It is advisable to prolong the time limit on captcha window (Settings > AntiCaptcha > Countdown for CAPTCHA window). I set it to 300 seconds, but probably the captcha will be already stale by then. This simply gives you enough time to respond to challenge, by keeping the window for input open.")]),e._v(" "),t("p",[e._v("Next, create a folder to store scripts, a note itâ€™s path (e.g. "),t("code",[e._v("~/scripts")]),e._v(").")]),e._v(" "),t("p",[e._v("Also, note your e-mail address where you would like to receive messages with captcha images (e.g. "),t("code",[e._v("you@gmail.com")]),e._v("), and be sure to setup a separate e-mail account for your computer to read (e.g. "),t("code",[e._v("computer@gmail.com")]),e._v("; Gmail is probably best option, because it provides "),t("em",[e._v("free")]),e._v(" POP3 access).")]),e._v(" "),t("p",[e._v("Now, letâ€™s install some packages:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("username@ubuntu:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" incron fetchmail procmail sendemail xdotool\n")])])]),t("ul",[t("li",[t("code",[e._v("incron")]),e._v(" handles filesystem events and can fire off scripts based on them")]),e._v(" "),t("li",[t("code",[e._v("fetchmail")]),e._v(" & "),t("code",[e._v("procmail")]),e._v(" handles receiving e-mail and acting upon it")]),e._v(" "),t("li",[t("code",[e._v("sendemail")]),e._v(", well, it sends e-mail ðŸ˜ƒ")]),e._v(" "),t("li",[t("code",[e._v("xdotool")]),e._v(" can simulate keypresses in X11")])]),e._v(" "),t("p",[e._v("Then proceed to configure each of the programs and scripts needed.")]),e._v(" "),t("h3",{attrs:{id:"incron"}},[t("a",{staticClass:"Permalink",attrs:{href:"#incron"}},[e._v("#")]),e._v(" incron")]),e._v(" "),t("p",[t("code",[e._v("incron")]),e._v(' is an "inotify cron" system. It consists of a daemon and a table manipulator. You can use it a similar way as the regular cron. The difference is that the inotify cron handles filesystem events rather than time periods. So, it can effectively be used to monitor a folder for changes, and fire off a script if anything is changed.')]),e._v(" "),t("p",[e._v("Now, letâ€™s configure it so we can use it under a regular user:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("username@ubuntu:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" /etc/incron.conf\n")])])]),t("p",[e._v("Uncomment the line that starts with:")]),e._v(" "),t("div",{staticClass:"language-apacheconf extra-class"},[t("pre",{pre:!0,attrs:{class:"language-apacheconf"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# allowed_users = /etc/incron.allow")]),e._v("\n")])])]),t("p",[e._v("so it becomes:")]),e._v(" "),t("div",{staticClass:"language-apacheconf extra-class"},[t("pre",{pre:!0,attrs:{class:"language-apacheconf"}},[t("code",[e._v("allowed_users = /etc/incron.allow\n")])])]),t("p",[e._v("Next, edit the "),t("code",[e._v("/etc/incron.allow")]),e._v(" file, and add your username to it (simply type a username and save file):")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("username@ubuntu:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" /etc/incron.allow\n")])])]),t("p",[e._v("Now set up the incron table:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("username@ubuntu:~$ incrontab -e\n")])])]),t("p",[e._v("It will open up the table in nano editor, paste the following line:")]),e._v(" "),t("div",{staticClass:"language-apacheconf extra-class"},[t("pre",{pre:!0,attrs:{class:"language-apacheconf"}},[t("code",[e._v("~/JDownloader/captchas IN_CREATE ~/scripts/fam.sh\n")])])]),t("p",[e._v("This tells incron to monitor "),t("code",[e._v("~/JDownloader/captchas")]),e._v(" folder for new files, and execute "),t("code",[e._v("~/scripts/fam.sh")]),e._v(" script accordingly.")]),e._v(" "),t("h3",{attrs:{id:"fam-sh"}},[t("a",{staticClass:"Permalink",attrs:{href:"#fam-sh"}},[e._v("#")]),e._v(" fam.sh")]),e._v(" "),t("p",[e._v("This script will have responsibility to check for new files and send them to your e-mail. Itâ€™s a simple bash script, copy paste it in a new file from the box below. Be sure to save it to "),t("code",[e._v("~/scripts")]),e._v(" folder.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[e._v("#!/bin/bash")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Change these variables to correct paths")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("MONITOR_DIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("~/JDownloader/captchas\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("TMP_DIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("~/JDownloader/sent_captchas\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("SUCCESS_DIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("~/JDownloader/sent_captchas/success\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FILE_EXT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("jpg\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Go to captcha directory")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$MONITOR_DIR")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# List all files with JPG extension")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("COUNT_FILES")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" -l *.$FILE_EXT "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[e._v("2")]),e._v(">")]),e._v(" /dev/null "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" ^- "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("wc")]),e._v(" -l"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# If there are files like those, continue")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$COUNT_FILES")]),e._v(" -gt "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("then")]),e._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Loop all JPG files and move them to the temporary directory")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[e._v("f")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" *."),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$FILE_EXT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("do")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$f")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$TMP_DIR")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("done")]),e._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Go to temporary directory")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$TMP_DIR")]),e._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Loop all files there again")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[e._v("f")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" *."),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$FILE_EXT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("do")]),e._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Send each file in a separate email as an attachment")]),e._v("\n    sendEmail -f computer@gmail.com -t you@gmail.com -u "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"[CAPTCHA] Please solve"')]),e._v(" -m "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("date")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),e._v(" -a "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$f")]),e._v(" -s smtp.gmail.com:25 -xu computer@gmail.com -xp password -q \n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Move each file sent to success directory")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" -f "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$f")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$SUCCESS_DIR")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("done")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("fi")]),e._v("\n")])])]),t("p",[e._v("Tweak the variables near the top to your needs, and take a look at the line with sendEmail command: you will need to change your and your computerâ€™s e-mail addresses, and also supply SMTP password for your computerâ€™s e-mail account. If you are using e-mail by another provider, be sure to tweak the SMTP serverâ€™s address and port.")]),e._v(" "),t("p",[e._v("Now you have the functionality of computer sending you automated e-mails with captchas attached. Congratulations, now letâ€™s continue.")]),e._v(" "),t("h3",{attrs:{id:"fetchmail-procmail"}},[t("a",{staticClass:"Permalink",attrs:{href:"#fetchmail-procmail"}},[e._v("#")]),e._v(" fetchmail & procmail")]),e._v(" "),t("p",[e._v("These two programs handle mail receiving on a system, with "),t("code",[e._v("fetchmail")]),e._v(" logging and checking mail and "),t("code",[e._v("procmail")]),e._v(" executing appropriate scripts. First, letâ€™s configure "),t("code",[e._v("fetchmail")]),e._v(". It depends on a RC file in your user home directory, so letâ€™s create it:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("username@ubuntu:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" ~/.fetchmailrc\n")])])]),t("p",[e._v("In it we will define some options:")]),e._v(" "),t("div",{staticClass:"language-apacheconf extra-class"},[t("pre",{pre:!0,attrs:{class:"language-apacheconf"}},[t("code",[e._v("set daemon 5;\nset syslog;\nset postmaster root;\n\npoll pop.gmail.com with proto pop3 and options no dns\n"),t("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("user")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"computer@gmail.com" there has password "password"')]),e._v(" is username here options ssl\n")])])]),t("p",[e._v("We will run "),t("code",[e._v("fetchmail")]),e._v(" as a service (daemon mode) with polling of 5 sec interval. Be sure to change computerâ€™s e-mail address, password and your username on the system, so fetchmail will know where to store your email.")]),e._v(" "),t("p",[e._v("To start "),t("code",[e._v("fetchmail")]),e._v(", simply type "),t("code",[e._v("fetchmail")]),e._v(" at shell prompt. New messages should immediately be received and stored to "),t("code",[e._v("/var/mail/username")]),e._v(" file. In order to start "),t("code",[e._v("fetchmail")]),e._v(" service as a current at every login, I added the autostart job in GUI, at System > Preferences > Startup Applications. You can do that, or simply create "),t("code",[e._v("fetchmail.desktop")]),e._v(" at "),t("code",[e._v("~/.config/autostart")]),e._v(" folder:")]),e._v(" "),t("div",{staticClass:"language-apacheconf extra-class"},[t("pre",{pre:!0,attrs:{class:"language-apacheconf"}},[t("code",[e._v("[Desktop Entry]\nType=Application\nExec=fetchmail\nHidden=false\nNoDisplay=false\nX-GNOME-Autostart-enabled=true\nName"),t("span",{pre:!0,attrs:{class:"token directive-flags keyword"}},[e._v("[en_US]")]),e._v("=Fetchmail\nName=Fetchmail\nComment"),t("span",{pre:!0,attrs:{class:"token directive-flags keyword"}},[e._v("[en_US]")]),e._v("=Start Fetchmail in deamon mode for current user\nComment=Start Fetchmail in deamon mode for current user\n")])])]),t("p",[e._v("Next up is "),t("code",[e._v("procmail")]),e._v(". Similarly, first create the config file:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("username@ubuntu:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" ~/.procmailrc\n")])])]),t("p",[e._v("And edit it to following:")]),e._v(" "),t("div",{staticClass:"language-apacheconf extra-class"},[t("pre",{pre:!0,attrs:{class:"language-apacheconf"}},[t("code",[e._v("LOGFILE=/var/log/procmail.log\n\nVERBOSE=YES\nLOGABSTRACT=all\n\n:0\n* "),t("span",{pre:!0,attrs:{class:"token regex"}},[e._v("^From: You <you@gmail.com>")]),e._v("\n* "),t("span",{pre:!0,attrs:{class:"token regex"}},[e._v("^Subject:.*CAPTCHA")]),e._v("\n{\n:0c:\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${DEFAULT}")]),e._v("\n:0\n|~/scripts/type.sh\n}\n")])])]),t("p",[e._v("This "),t("code",[e._v("procmail")]),e._v(" recipe will scan incoming message, see if it has your "),t("strong",[e._v("From")]),e._v(" address, appropriate "),t("strong",[e._v("Subject")]),e._v(", and execute "),t("code",[e._v("~/scripts/type.sh")]),e._v(" script with the message at STDIN.")]),e._v(" "),t("p",[e._v("Now, letâ€™s move to the final step.")]),e._v(" "),t("h3",{attrs:{id:"type-sh"}},[t("a",{staticClass:"Permalink",attrs:{href:"#type-sh"}},[e._v("#")]),e._v(" type.sh")]),e._v(" "),t("p",[e._v("This script will scan message from standard input for the FIRST line in its body, compare this to the last code it received (if any), and if it is new, it will simulate typing it to the active window in GUI (using xdotool).")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[e._v("#!/bin/bash")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Export X display variable (in order for script to have access to desktop)")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("DISPLAY")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(":0\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Extract new code from STDIN using awk parser, head and")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# tail commands for first line in the message body")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NEW_CODE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" /dev/stdin "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("awk")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/Content-Type: text\\/plain;/,G'")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("head")]),e._v(" -3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("tail")]),e._v(" -1"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Extract old code from temp file")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("OLD_CODE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" ~/scripts/old_code"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# If, and only if new code is different from the old code")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# use xdotool to simulate typing it to active window")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# and store new code in a temp file")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$NEW_CODE")]),e._v('"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$OLD_CODE")]),e._v('"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("then")]),e._v("\n    xdotool getactivewindow "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("type")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$NEW_CODE")]),e._v('"')]),e._v("\n    xdotool key Return\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$NEW_CODE")]),e._v('"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ~/scripts/old_code\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("fi")]),e._v("\n")])])]),t("p",[e._v('That does it! This script assumes that the active window in X11 is indeed CAPTCHA window in JD. If the computer is unattended (as is the premise), it will type the code from the e-mail to the box, and simulate pressing "Enter", after which the download should continue.')]),e._v(" "),t("h2",{attrs:{id:"conclusion"}},[t("a",{staticClass:"Permalink",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),t("p",[e._v("In reality, this method works as intended... more or less ðŸ˜ƒ Sometimes I canâ€™t answer immediately, but after a few minutes, new message will appear with new captcha, and so on, until captcha limit is reached (depends on the host).")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/recaptcha-1_big.jpg#nozoom",alt:"Received CAPTCHA in Gmail"}})]),e._v(" "),t("p",[e._v("Of course, these bash scripts method could be refined (e.g. by scanning the files for specific hosts, a method to easily disable/enable monitoring from JD, etc), feel free to build upon it. But it does the job fairly consistent, and it beats the hell out of manually logging via VNC and checking if it is time for new captcha ðŸ˜ƒ")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.dvuckovic.com/posts/recaptcha-2_big.jpg#nozoom",alt:"Sent solution in Gmail"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);